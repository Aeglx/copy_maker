<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>微信文案生成器 | 专业营销文案一键生成</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <meta name="description" content="专业的微信营销文案生成工具，一键生成吸引人的产品宣传文案">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>✨</text></svg>">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: "Poppins", "Inter", sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #e4e8f0 100%);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            color: #334155;
            position: relative;
            overflow-x: hidden;
        }
        
        body::before {
            content: "";
            position: absolute;
            top: -50px;
            left: -50px;
            width: 200px;
            height: 200px;
            border-radius: 50%;
            background: linear-gradient(135deg, rgba(79, 70, 229, 0.2) 0%, rgba(139, 92, 246, 0.2) 100%);
            z-index: -1;
            animation: float 15s ease-in-out infinite alternate;
        }
        
        body::after {
            content: "";
            position: absolute;
            bottom: -100px;
            right: -50px;
            width: 300px;
            height: 300px;
            border-radius: 50%;
            background: linear-gradient(135deg, rgba(249, 168, 212, 0.2) 0%, rgba(216, 180, 254, 0.2) 100%);
            z-index: -1;
            animation: float 20s ease-in-out infinite alternate-reverse;
        }
        
        @keyframes float {
            0% { transform: translate(0, 0) rotate(0deg); }
            100% { transform: translate(30px, 30px) rotate(10deg); }
        }
        
        /* 自定义样式以确保兼容性和美观 */
        .container {
            background-color: rgba(255, 255, 255, 0.95);
            padding: 2.5rem;
            border-radius: 1.5rem;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08), 
                        0 0 0 1px rgba(0, 0, 0, 0.01),
                        inset 0 0 0 1px rgba(255, 255, 255, 0.5);
            max-width: 650px;
            width: 90%;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            backdrop-filter: blur(10px);
            position: relative;
            z-index: 1;
        }
        
        .container:hover {
            transform: translateY(-8px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1), 
                        0 0 0 1px rgba(0, 0, 0, 0.01),
                        inset 0 0 0 1px rgba(255, 255, 255, 0.6);
        }
        
        input, textarea {
            border: 2px solid rgba(226, 232, 240, 0.8);
            padding: 0.85rem 1rem;
            border-radius: 0.85rem;
            font-size: 1rem;
            transition: all 0.3s ease;
            background-color: rgba(255, 255, 255, 0.8);
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.02);
        }
        
        input:focus, textarea:focus {
            border-color: #6366f1;
            outline: none;
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.2);
            background-color: #fff;
        }
        
        label {
            font-weight: 500;
            color: #4b5563;
            margin-bottom: 0.5rem;
            display: block;
            transition: all 0.2s ease;
        }
        
        .input-group:focus-within label {
            color: #6366f1;
        }
        
        #generateBtn {
            padding: 1rem 1.5rem;
            background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
            color: white;
            font-weight: 600;
            border: none;
            border-radius: 0.85rem;
            font-size: 1.125rem;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(99, 102, 241, 0.4);
            position: relative;
            overflow: hidden;
        }
        
        #generateBtn::before {
            content: "";
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: all 0.6s ease;
        }
        
        #generateBtn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(99, 102, 241, 0.6);
        }
        
        #generateBtn:hover::before {
            left: 100%;
        }
        
        #generateBtn:disabled {
            background: #cbd5e0;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        .result-box {
            background-color: rgba(243, 244, 246, 0.7);
            padding: 1.75rem;
            border-radius: 1rem;
            white-space: pre-wrap;
            word-wrap: break-word;
            line-height: 1.8;
            min-height: 180px;
            color: #374151;
            border: 1px solid rgba(229, 231, 235, 0.8);
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.02);
            transition: all 0.3s ease;
            position: relative;
        }
        
        .result-box:hover {
            background-color: rgba(243, 244, 246, 0.9);
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.04);
        }
        
        .text-gradient {
            background-image: linear-gradient(135deg, #6366f1 0%, #8b5cf6 50%, #ec4899 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-size: 200% auto;
            animation: gradient-shift 8s ease infinite;
        }
        
        @keyframes gradient-shift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        .input-group {
            position: relative;
            margin-bottom: 1.5rem;
        }
        
        .input-icon {
            position: absolute;
            top: 50%;
            right: 1rem;
            transform: translateY(-50%);
            color: #9ca3af;
            pointer-events: none;
            transition: all 0.2s ease;
        }
        
        .copy-btn {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: rgba(255, 255, 255, 0.8);
            border: 1px solid rgba(229, 231, 235, 0.8);
            border-radius: 0.5rem;
            padding: 0.35rem 0.75rem;
            font-size: 0.875rem;
            color: #6366f1;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            gap: 0.25rem;
        }
        
        .copy-btn:hover {
            background: #fff;
            color: #4f46e5;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
        }
        
        .loading {
            display: inline-block;
            width: 1.5rem;
            height: 1.5rem;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s ease-in-out infinite;
            margin-right: 0.5rem;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="flex flex-col items-center p-5">

<div class="container w-full mx-auto">
    <div class="flex items-center justify-center mb-2">
        <div class="w-10 h-1 bg-indigo-200 rounded-full mr-2"></div>
        <div class="text-xs uppercase tracking-wider text-indigo-400 font-semibold">专业营销工具</div>
        <div class="w-10 h-1 bg-indigo-200 rounded-full ml-2"></div>
    </div>
    
    <h1 class="text-4xl font-extrabold text-center mb-3 text-gradient">微信文案生成器</h1>
    <p class="text-center text-gray-500 mb-8">一键生成吸引人的产品营销文案，提升转化率</p>

    <div class="bg-indigo-50 rounded-lg p-4 mb-8 border border-indigo-100 flex items-center">
        <i class="fas fa-lightbulb text-amber-500 mr-3 text-xl"></i>
        <p class="text-sm text-gray-600">填写产品信息，点击生成按钮，即可获得随机样式的专业营销文案</p>
    </div>

    <div class="input-group">
        <label for="productName" class="block text-gray-700 font-semibold mb-2 text-lg flex items-center">
            <i class="fas fa-tag mr-2 text-indigo-400"></i>产品名称
        </label>
        <input type="text" id="productName" class="w-full" placeholder="例如：平安尊享版">
        <div class="input-icon">
            <i class="fas fa-asterisk text-xs text-rose-400"></i>
        </div>
    </div>

    <div class="input-group">
        <label for="productSlogan" class="block text-gray-700 font-semibold mb-2 text-lg flex items-center">
            <i class="fas fa-bullhorn mr-2 text-indigo-400"></i>产品标语（可选）
        </label>
        <input type="text" id="productSlogan" class="w-full" placeholder="例如：高性价比之选！">
    </div>
    
    <div class="input-group">
        <label for="points" class="block text-gray-700 font-semibold mb-2 text-lg flex items-center">
            <i class="fas fa-shield-alt mr-2 text-indigo-400"></i>核心保障要点
        </label>
        <textarea id="points" class="w-full" rows="5" placeholder="请每行输入一个要点，例如：&#10;意外身故/伤残：10万&#10;意外伤害医疗：3万&#10;重大疾病保险金：5万"></textarea>
        <div class="input-icon" style="top: 70%;">
            <i class="fas fa-asterisk text-xs text-rose-400"></i>
        </div>
    </div>

    <button type="button" id="generateBtn" class="w-full mt-6 flex items-center justify-center">
        <span id="btnText">生成文案</span>
        <span id="loadingIcon" class="hidden loading"></span>
    </button>

    <div class="relative">
        <div class="result-box mt-8" id="resultBox">
            <div class="flex flex-col items-center justify-center h-full text-center text-gray-400">
                <i class="fas fa-magic text-4xl mb-3 text-indigo-200"></i>
                <p>生成的文案将显示在这里</p>
                <p class="text-xs mt-2">点击上方按钮开始生成</p>
            </div>
        </div>
        <button id="copyBtn" class="copy-btn hidden">
            <i class="fas fa-copy mr-1"></i>复制
        </button>
    </div>
    
    <div class="mt-6 text-center">
        <p class="text-xs text-gray-400">© 2025 微信文案生成器 | 让营销更简单</p>
    </div>
</div>

<script>
    // 初始化页面元素
    const generateBtn = document.getElementById('generateBtn');
    const btnText = document.getElementById('btnText');
    const loadingIcon = document.getElementById('loadingIcon');
    const resultBox = document.getElementById('resultBox');
    const copyBtn = document.getElementById('copyBtn');
    
    // 添加复制功能
    copyBtn.addEventListener('click', function() {
        const textToCopy = resultBox.innerText;
        navigator.clipboard.writeText(textToCopy).then(() => {
            const originalText = copyBtn.innerHTML;
            copyBtn.innerHTML = '<i class="fas fa-check mr-1"></i>已复制';
            copyBtn.classList.add('bg-green-50', 'text-green-600', 'border-green-200');
            
            setTimeout(() => {
                copyBtn.innerHTML = originalText;
                copyBtn.classList.remove('bg-green-50', 'text-green-600', 'border-green-200');
            }, 2000);
        }).catch(err => {
            console.error('复制失败:', err);
            copyBtn.innerHTML = '<i class="fas fa-times mr-1"></i>复制失败';
            setTimeout(() => {
                copyBtn.innerHTML = '<i class="fas fa-copy mr-1"></i>复制';
            }, 2000);
        });
    });
    
    // 生成文案按钮点击事件
    generateBtn.addEventListener('click', async function() {
        const productName = document.getElementById('productName').value;
        const productSlogan = document.getElementById('productSlogan').value;
        const pointsText = document.getElementById('points').value;

        // 将文本框中的内容按换行符分割成数组，并过滤空行
        const points = pointsText.split('\n').map(p => p.trim()).filter(p => p !== '');

        if (!productName || points.length === 0) {
            showError('产品名称和至少一个要点是必填的！');
            shakeElement(document.getElementById(!productName ? 'productName' : 'points'));
            return;
        }

        // 显示加载状态
        generateBtn.disabled = true;
        btnText.innerText = '生成中...';
        loadingIcon.classList.remove('hidden');
        
        // 显示加载动画
        resultBox.innerHTML = `
            <div class="flex flex-col items-center justify-center h-full text-center">
                <div class="w-16 h-16 border-4 border-indigo-200 border-t-indigo-500 rounded-full animate-spin mb-4"></div>
                <p class="text-gray-500">正在生成随机文案样式...</p>
            </div>
        `;

        try {
            // 添加随机延迟，增强用户体验
            await new Promise(resolve => setTimeout(resolve, Math.random() * 500 + 800));
            
            const randomStyle = await fetchRandomStyle();
            const generatedText = generateStyledText(productName, productSlogan, points, randomStyle);
            
            // 显示生成的文案
            resultBox.innerText = generatedText;
            
            // 显示复制按钮
            copyBtn.classList.remove('hidden');
            
            // 添加成功动画
            resultBox.classList.add('border-indigo-200');
            setTimeout(() => {
                resultBox.classList.remove('border-indigo-200');
            }, 1000);
            
        } catch (error) {
            showError('文案生成失败，请稍后再试。');
            console.error('文案生成错误:', error);
        } finally {
            // 恢复按钮状态
            generateBtn.disabled = false;
            btnText.innerText = '生成文案';
            loadingIcon.classList.add('hidden');
        }
    });

    /**
     * 从预定义的列表中随机选择一个表情符号
     * @param {Array<string>} list - 表情符号列表
     * @returns {string} - 单个表情符号字符串
     */
    function getRandomItemFromList(list) {
        return list[Math.floor(Math.random() * list.length)];
    }

    /**
     * 动态生成一个随机的超大颜文字图案
     * @returns {string} - 随机颜文字字符串
     */
    function generateLargeKaomoji() {
        // 定义多种颜文字的“零部件”
        const topArms = ['(ง ˙ω˙)ว', 'ヽ(ﾟ∀ﾟ)ﾉ', 'ヾ(≧▽≦*)o', 'ヾ(•ω•`)o', '(´ε｀ )♡', '(ﾉ◕ヮ◕)ﾉ*:･ﾟ✧'];
        const middleEyes = ['(o^^o)', '(≧∀≦)', '(oﾟvﾟ)ノ', '（人*´ω’）', 'ヾ(^ω^*)', '(｡◕‿◕｡)', '(✿◠‿◠)'];
        const bottomArms = ['ヘ(￣ω￣ヘ)', 'ヘ(￣ω￣ヘ)', 'o(〃^▽^〃)o', 'つ🧧と', '(ﾉ´ヮ`)ﾉ*: ･ﾟ'];
        
        const randomTop = getRandomItemFromList(topArms);
        const randomMiddle = getRandomItemFromList(middleEyes);
        const randomBottom = getRandomItemFromList(bottomArms);

        // 随机组合三种颜文字结构
        const structures = [
            `\n${randomTop}\n  ${randomMiddle}\n${randomBottom}\n`,
            `\n${randomMiddle}\n${randomBottom}\n`,
            `\n(づ￣ ³￣)づ\n ${randomTop}\n`,
            `\n✧*｡٩(ˊᗜˋ*)و✧*｡\n ${randomMiddle}\n`,
            `\n(ﾉ◕ヮ◕)ﾉ*:･ﾟ✧\n ${randomBottom}\n`
        ];

        return getRandomItemFromList(structures);
    }

    // 显示错误信息
    function showError(message) {
        const resultBox = document.getElementById('resultBox');
        const copyBtn = document.getElementById('copyBtn');
        resultBox.innerHTML = `
            <div class="flex items-center text-rose-500 h-full">
                <i class="fas fa-exclamation-circle mr-2"></i>
                <span>${message}</span>
            </div>
        `;
        copyBtn.classList.add('hidden');
    }

    // 元素抖动动画
    function shakeElement(element) {
        element.classList.add('border-rose-300');
        
        const keyframes = [
            { transform: 'translateX(0)' },
            { transform: 'translateX(-5px)' },
            { transform: 'translateX(5px)' },
            { transform: 'translateX(-5px)' },
            { transform: 'translateX(5px)' },
            { transform: 'translateX(-5px)' },
            { transform: 'translateX(0)' }
        ];
        
        const options = {
            duration: 500,
            iterations: 1
        };
        
        element.animate(keyframes, options);
        
        setTimeout(() => {
            element.classList.remove('border-rose-300');
        }, 1000);
    }

    /**
     * 模拟网络请求，从“云端”获取随机文案样式
     * 这里通过一个Promise和setTimeout来模拟异步请求
     * @returns {Promise<object>} - 随机样式对象
     */
    function fetchRandomStyle() {
        return new Promise(resolve => {
            const styleTypes = ['list', 'promotional'];
            const randomStyleType = getRandomItemFromList(styleTypes);

            let randomStyle = { type: randomStyleType };

            if (randomStyleType === 'list') {
                const titlePrefixes = ['✨ ', '👑 ', '💎 ', '🌟 ', '🌈 ', '💡 ', '🚀 ', '🎉 ', '🛡️ ', '❤️ ', '✅ ', '💯 '];
                const listPrefixes = ['👉 ', '✅ ', '✔️ ', '➡️ ', '🔹 ', '🎯 ', '💖 ', '✨ ', '👍 ', '🚀 '];
                const sloganPrefixes = ['💰 ', '💖 ', '🔥 ', '🚀 ', '💯 ', '🎁 ', '💪 ', '💡 '];
                
                randomStyle.titlePrefix = getRandomItemFromList(titlePrefixes);
                randomStyle.listPrefix = getRandomItemFromList(listPrefixes);
                randomStyle.sloganPrefix = getRandomItemFromList(sloganPrefixes);
            } else if (randomStyleType === 'promotional') {
                const titleEmojis = ['✨', '🔥', '🌟', '💎', '💖'];
                const pointEmojis = ['🤩', '💛', '☕️', '👍', '🎉', '🎁'];
                const ctaPhrases = ['领 券', '限 时', '立 购', '速 抢'];
                const ctaDecorations = ['(๑･ω･๑)', '(╯✧∇✧)╯', 'ヾ(•ω•`)o', '(σﾟ∀ﾟ)σ', 'ヽ(ﾟ∀ﾟ)ﾒ(ﾟ∀ﾟ)ﾉ'];
                const ctaLineEndings = [' 开瑞', ' 冲鸭', ' 上新', ' 福利'];
                const dividers = ['￣￣￣￣ つ', '〰〰〰〰 👉', '━━━━━━ 🎁'];
                const dividerEmojis = ['🧧', '🛍️', '💰', '🎟️', '🛒'];
                const callToActionLines = ['冲本周福利👉', '戳这里领券 👉', '速抢优惠👉', '不容错过👉'];

                randomStyle.titleEmoji = getRandomItemFromList(titleEmojis);
                randomStyle.pointEmojis = Array.from({length: 3}, () => getRandomItemFromList(pointEmojis));
                randomStyle.ctaText = getRandomItemFromList(ctaPhrases) + ' ' + getRandomItemFromList(ctaDecorations) + getRandomItemFromList(ctaLineEndings);
                randomStyle.ctaDividerTop = getRandomItemFromList(dividers) + getRandomItemFromList(dividerEmojis);
                randomStyle.ctaDividerBottom = 'と ￣￣￣￣';
                randomStyle.callToActionLine = getRandomItemFromList(callToActionLines);
            }
            
            // 模拟网络延迟
            setTimeout(() => {
                resolve(randomStyle);
            }, 500); // 延迟0.5秒
        });
    }

    /**
     * 根据输入内容和随机样式生成文案
     * @param {string} productName - 产品名称
     * @param {string} slogan - 产品标语
     * @param {string[]} points - 核心保障要点数组
     * @param {object} style - 随机样式对象
     * @returns {string} - 格式化后的文案
     */
    function generateStyledText(productName, slogan, points, style) {
        let textBody = '';
        if (style.type === 'list') {
            let result = `${style.titlePrefix}【${productName}】\n`;
            if (slogan) {
                result += `${style.sloganPrefix}${slogan}\n\n`;
            } else {
                result += `\n`;
            }
            result += '🛡️ **核心保障：**\n';
            points.forEach(point => {
                result += `${style.listPrefix}${point}\n`;
            });
            textBody = result;
        } else if (style.type === 'promotional') {
            const p1 = points[0] || '';
            const p2 = points[1] || '';
            const p3 = points[2] || '';
            let result = `
﹝新品秒杀﹞

${productName}
${slogan} ${style.titleEmoji}

${style.pointEmojis[0]} ${p1}
${style.pointEmojis[1]} ${p2}
${style.pointEmojis[2]} ${p3}

\\ ${style.ctaText} \\
${style.ctaDividerTop} ${style.ctaDividerBottom}
${style.callToActionLine}
`;
            textBody = result.trim();
        }

        const largeKaomoji = generateLargeKaomoji();
        return textBody + '\n\n' + largeKaomoji;
    }
</script>

</body>
</html>
