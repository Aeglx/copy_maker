<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ–‡æ¡ˆç”Ÿæˆå™¨</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: "Inter", sans-serif;
            background-color: #f0f2f5;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }
        /* è‡ªå®šä¹‰æ ·å¼ä»¥ç¡®ä¿å…¼å®¹æ€§å’Œç¾è§‚ */
        .container {
            background-color: #fff;
            padding: 2.5rem;
            border-radius: 1.5rem;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            max-width: 600px;
            width: 90%;
            transition: transform 0.3s ease;
        }
        .container:hover {
            transform: translateY(-5px);
        }
        input, textarea {
            border: 2px solid #e2e8f0;
            padding: 0.75rem;
            border-radius: 0.75rem;
            font-size: 1rem;
            transition: all 0.3s ease;
        }
        input:focus, textarea:focus {
            border-color: #4f46e5;
            outline: none;
            box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.2);
        }
        #generateBtn {
            padding: 1rem 1.5rem;
            background: linear-gradient(to right, #4f46e5, #8b5cf6);
            color: white;
            font-weight: bold;
            border: none;
            border-radius: 0.75rem;
            font-size: 1.125rem;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(79, 70, 229, 0.4);
        }
        #generateBtn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(79, 70, 229, 0.6);
        }
        #generateBtn:disabled {
            background: #cbd5e0;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        .result-box {
            background-color: #f3f4f6;
            padding: 1.5rem;
            border-radius: 0.75rem;
            white-space: pre-wrap;
            word-wrap: break-word;
            line-height: 1.8;
            min-height: 150px;
            color: #374151;
            border: 1px solid #e5e7eb;
        }
        .text-gradient {
            background-image: linear-gradient(to right, #4f46e5, #8b5cf6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
    </style>
</head>
<body class="flex flex-col items-center p-5">

<div class="container w-full mx-auto">
    <h1 class="text-4xl font-extrabold text-center mb-8 text-gradient">å¾®ä¿¡æ–‡æ¡ˆç”Ÿæˆå™¨</h1>

    <div class="mb-6">
        <label for="productName" class="block text-gray-700 font-semibold mb-2 text-lg">äº§å“åç§°ï¼š</label>
        <input type="text" id="productName" class="w-full" placeholder="ä¾‹å¦‚ï¼šå¹³å®‰å°Šäº«ç‰ˆ">
    </div>

    <div class="mb-6">
        <label for="productSlogan" class="block text-gray-700 font-semibold mb-2 text-lg">äº§å“æ ‡è¯­ï¼ˆå¯é€‰ï¼‰ï¼š</label>
        <input type="text" id="productSlogan" class="w-full" placeholder="ä¾‹å¦‚ï¼šé«˜æ€§ä»·æ¯”ä¹‹é€‰ï¼">
    </div>
    
    <div class="mb-6">
        <label for="points" class="block text-gray-700 font-semibold mb-2 text-lg">æ ¸å¿ƒä¿éšœè¦ç‚¹ï¼š</label>
        <textarea id="points" class="w-full" rows="5" placeholder="è¯·æ¯è¡Œè¾“å…¥ä¸€ä¸ªè¦ç‚¹ï¼Œä¾‹å¦‚ï¼š&#10;æ„å¤–èº«æ•…/ä¼¤æ®‹ï¼š10ä¸‡&#10;æ„å¤–ä¼¤å®³åŒ»ç–—ï¼š3ä¸‡&#10;é‡å¤§ç–¾ç—…ä¿é™©é‡‘ï¼š5ä¸‡"></textarea>
    </div>

    <button type="button" id="generateBtn" class="w-full mt-6">ç”Ÿæˆæ–‡æ¡ˆ</button>

    <div class="result-box mt-8" id="resultBox">
        ç”Ÿæˆçš„æ–‡æ¡ˆå°†æ˜¾ç¤ºåœ¨è¿™é‡Œã€‚
    </div>
</div>

<script>
    document.getElementById('generateBtn').addEventListener('click', async function() {
        const productName = document.getElementById('productName').value;
        const productSlogan = document.getElementById('productSlogan').value;
        const pointsText = document.getElementById('points').value;

        // å°†æ–‡æœ¬æ¡†ä¸­çš„å†…å®¹æŒ‰æ¢è¡Œç¬¦åˆ†å‰²æˆæ•°ç»„ï¼Œå¹¶è¿‡æ»¤ç©ºè¡Œ
        const points = pointsText.split('\n').map(p => p.trim()).filter(p => p !== '');

        if (!productName || points.length === 0) {
            document.getElementById('resultBox').innerText = 'äº§å“åç§°å’Œè‡³å°‘ä¸€ä¸ªè¦ç‚¹æ˜¯å¿…å¡«çš„ï¼';
            return;
        }

        const generateBtn = document.getElementById('generateBtn');
        const resultBox = document.getElementById('resultBox');
        
        generateBtn.disabled = true; // ç¦ç”¨æŒ‰é’®é˜²æ­¢é‡å¤ç‚¹å‡»
        resultBox.innerText = 'æ­£åœ¨ç”Ÿæˆéšæœºæ–‡æ¡ˆæ ·å¼...'; // æ¨¡æ‹ŸåŠ è½½çŠ¶æ€

        try {
            const randomStyle = await fetchRandomStyle();
            const generatedText = generateStyledText(productName, productSlogan, points, randomStyle);
            resultBox.innerText = generatedText;
        } catch (error) {
            resultBox.innerText = 'æ–‡æ¡ˆç”Ÿæˆå¤±è´¥ï¼Œè¯·ç¨åå†è¯•ã€‚';
            console.error('æ–‡æ¡ˆç”Ÿæˆé”™è¯¯:', error);
        } finally {
            generateBtn.disabled = false; // æ¢å¤æŒ‰é’®
        }
    });

    /**
     * ä»é¢„å®šä¹‰çš„åˆ—è¡¨ä¸­éšæœºé€‰æ‹©ä¸€ä¸ªè¡¨æƒ…ç¬¦å·
     * @param {Array<string>} list - è¡¨æƒ…ç¬¦å·åˆ—è¡¨
     * @returns {string} - å•ä¸ªè¡¨æƒ…ç¬¦å·å­—ç¬¦ä¸²
     */
    function getRandomItemFromList(list) {
        return list[Math.floor(Math.random() * list.length)];
    }

    /**
     * åŠ¨æ€ç”Ÿæˆä¸€ä¸ªéšæœºçš„è¶…å¤§é¢œæ–‡å­—å›¾æ¡ˆ
     * @returns {string} - éšæœºé¢œæ–‡å­—å­—ç¬¦ä¸²
     */
    function generateLargeKaomoji() {
        // å®šä¹‰å¤šç§é¢œæ–‡å­—çš„â€œé›¶éƒ¨ä»¶â€
        const topArms = ['(à¸‡ Ë™Ï‰Ë™)à¸§', 'ãƒ½(ï¾Ÿâˆ€ï¾Ÿ)ï¾‰', 'ãƒ¾(â‰§â–½â‰¦*)o', 'ãƒ¾(â€¢Ï‰â€¢`)o', '(Â´Îµï½€ )â™¡'];
        const middleEyes = ['(o^^o)', '(â‰§âˆ€â‰¦)', '(oï¾Ÿvï¾Ÿ)ãƒ', 'ï¼ˆäºº*Â´Ï‰â€™ï¼‰', 'ãƒ¾(^Ï‰^*)'];
        const bottomArms = ['ãƒ˜(ï¿£Ï‰ï¿£ãƒ˜)', 'ãƒ˜(ï¿£Ï‰ï¿£ãƒ˜)', 'o(ã€ƒ^â–½^ã€ƒ)o', 'ã¤ğŸ§§ã¨'];
        
        const randomTop = getRandomItemFromList(topArms);
        const randomMiddle = getRandomItemFromList(middleEyes);
        const randomBottom = getRandomItemFromList(bottomArms);

        // éšæœºç»„åˆä¸‰ç§é¢œæ–‡å­—ç»“æ„
        const structures = [
            `\n${randomTop}\n  ${randomMiddle}\n${randomBottom}\n`,
            `\n${randomMiddle}\n${randomBottom}\n`,
            `\n(ã¥ï¿£ Â³ï¿£)ã¥\n ${randomTop}\n`
        ];

        return getRandomItemFromList(structures);
    }

    /**
     * æ¨¡æ‹Ÿç½‘ç»œè¯·æ±‚ï¼Œä»â€œäº‘ç«¯â€è·å–éšæœºæ–‡æ¡ˆæ ·å¼
     * è¿™é‡Œé€šè¿‡ä¸€ä¸ªPromiseå’ŒsetTimeoutæ¥æ¨¡æ‹Ÿå¼‚æ­¥è¯·æ±‚
     * @returns {Promise<object>} - éšæœºæ ·å¼å¯¹è±¡
     */
    function fetchRandomStyle() {
        return new Promise(resolve => {
            const styleTypes = ['list', 'promotional'];
            const randomStyleType = getRandomItemFromList(styleTypes);

            let randomStyle = { type: randomStyleType };

            if (randomStyleType === 'list') {
                const titlePrefixes = ['âœ¨ ', 'ğŸ‘‘ ', 'ğŸ’ ', 'ğŸŒŸ ', 'ğŸŒˆ ', 'ğŸ’¡ ', 'ğŸš€ ', 'ğŸ‰ ', 'ğŸ›¡ï¸ ', 'â¤ï¸ ', 'âœ… ', 'ğŸ’¯ '];
                const listPrefixes = ['ğŸ‘‰ ', 'âœ… ', 'âœ”ï¸ ', 'â¡ï¸ ', 'ğŸ”¹ ', 'ğŸ¯ ', 'ğŸ’– ', 'âœ¨ ', 'ğŸ‘ ', 'ğŸš€ '];
                const sloganPrefixes = ['ğŸ’° ', 'ğŸ’– ', 'ğŸ”¥ ', 'ğŸš€ ', 'ğŸ’¯ ', 'ğŸ ', 'ğŸ’ª ', 'ğŸ’¡ '];
                
                randomStyle.titlePrefix = getRandomItemFromList(titlePrefixes);
                randomStyle.listPrefix = getRandomItemFromList(listPrefixes);
                randomStyle.sloganPrefix = getRandomItemFromList(sloganPrefixes);
            } else if (randomStyleType === 'promotional') {
                const titleEmojis = ['âœ¨', 'ğŸ”¥', 'ğŸŒŸ', 'ğŸ’', 'ğŸ’–'];
                const pointEmojis = ['ğŸ¤©', 'ğŸ’›', 'â˜•ï¸', 'ğŸ‘', 'ğŸ‰', 'ğŸ'];
                const ctaPhrases = ['é¢† åˆ¸', 'é™ æ—¶', 'ç«‹ è´­', 'é€Ÿ æŠ¢'];
                const ctaDecorations = ['(à¹‘ï½¥Ï‰ï½¥à¹‘)', '(â•¯âœ§âˆ‡âœ§)â•¯', 'ãƒ¾(â€¢Ï‰â€¢`)o', '(Ïƒï¾Ÿâˆ€ï¾Ÿ)Ïƒ', 'ãƒ½(ï¾Ÿâˆ€ï¾Ÿ)ï¾’(ï¾Ÿâˆ€ï¾Ÿ)ï¾‰'];
                const ctaLineEndings = [' å¼€ç‘', ' å†²é¸­', ' ä¸Šæ–°', ' ç¦åˆ©'];
                const dividers = ['ï¿£ï¿£ï¿£ï¿£ ã¤', 'ã€°ã€°ã€°ã€° ğŸ‘‰', 'â”â”â”â”â”â” ğŸ'];
                const dividerEmojis = ['ğŸ§§', 'ğŸ›ï¸', 'ğŸ’°', 'ğŸŸï¸', 'ğŸ›’'];
                const callToActionLines = ['å†²æœ¬å‘¨ç¦åˆ©ğŸ‘‰', 'æˆ³è¿™é‡Œé¢†åˆ¸ ğŸ‘‰', 'é€ŸæŠ¢ä¼˜æƒ ğŸ‘‰', 'ä¸å®¹é”™è¿‡ğŸ‘‰'];

                randomStyle.titleEmoji = getRandomItemFromList(titleEmojis);
                randomStyle.pointEmojis = Array.from({length: 3}, () => getRandomItemFromList(pointEmojis));
                randomStyle.ctaText = getRandomItemFromList(ctaPhrases) + ' ' + getRandomItemFromList(ctaDecorations) + getRandomItemFromList(ctaLineEndings);
                randomStyle.ctaDividerTop = getRandomItemFromList(dividers) + getRandomItemFromList(dividerEmojis);
                randomStyle.ctaDividerBottom = 'ã¨ ï¿£ï¿£ï¿£ï¿£';
                randomStyle.callToActionLine = getRandomItemFromList(callToActionLines);
            }
            
            // æ¨¡æ‹Ÿç½‘ç»œå»¶è¿Ÿ
            setTimeout(() => {
                resolve(randomStyle);
            }, 500); // å»¶è¿Ÿ0.5ç§’
        });
    }

    /**
     * æ ¹æ®è¾“å…¥å†…å®¹å’Œéšæœºæ ·å¼ç”Ÿæˆæ–‡æ¡ˆ
     * @param {string} productName - äº§å“åç§°
     * @param {string} slogan - äº§å“æ ‡è¯­
     * @param {string[]} points - æ ¸å¿ƒä¿éšœè¦ç‚¹æ•°ç»„
     * @param {object} style - éšæœºæ ·å¼å¯¹è±¡
     * @returns {string} - æ ¼å¼åŒ–åçš„æ–‡æ¡ˆ
     */
    function generateStyledText(productName, slogan, points, style) {
        let textBody = '';
        if (style.type === 'list') {
            let result = `${style.titlePrefix}ã€${productName}ã€‘\n`;
            if (slogan) {
                result += `${style.sloganPrefix}${slogan}\n\n`;
            } else {
                result += `\n`;
            }
            result += 'ğŸ›¡ï¸ **æ ¸å¿ƒä¿éšœï¼š**\n';
            points.forEach(point => {
                result += `${style.listPrefix}${point}\n`;
            });
            textBody = result;
        } else if (style.type === 'promotional') {
            const p1 = points[0] || '';
            const p2 = points[1] || '';
            const p3 = points[2] || '';
            let result = `
ï¹æ–°å“ç§’æ€ï¹

${productName}
${slogan} ${style.titleEmoji}

${style.pointEmojis[0]} ${p1}
${style.pointEmojis[1]} ${p2}
${style.pointEmojis[2]} ${p3}

\\ ${style.ctaText} \\
${style.ctaDividerTop} ${style.ctaDividerBottom}
${style.callToActionLine}
`;
            textBody = result.trim();
        }

        const largeKaomoji = generateLargeKaomoji();
        return textBody + '\n\n' + largeKaomoji;
    }
</script>

</body>
</html>
